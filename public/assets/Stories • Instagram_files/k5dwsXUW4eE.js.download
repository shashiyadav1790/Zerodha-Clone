;/*FB_PKG_DELIM*/

__d("CentralImpressionRecord",["getStyleProperty","intersectionObserverEntryIsIntersecting"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return{impressedAt:0,invisibleReason:null,status:null,target:a,visible:!1,visiblePercentage:0}}function b(a,b){var d=a.target,e=a.boundingClientRect,f=null,g=!1;!c("intersectionObserverEntryIsIntersecting")(a)?f="NOT_IN_VIEWPORT":e==null?f="UNDEFINED_BOUNDING_RECT":e.height===0||e.width===0?f="TARGET_SIZE_0":c("getStyleProperty")(d,"opacity")==="0"?f="TARGET_TRANSPARENT":c("getStyleProperty")(d,"visibility")==="hidden"?f="TARGET_HIDDEN":g=!0;e=g===!1?0:a.intersectionRatio;var h=b.visible,i=b.impressedAt,j=null;h&&!g?j="EXIT":!h&&g?(j="ENTER",i=Date.now()):b.visiblePercentage!==e&&(j="UPDATE");return{boundingClientRect:a.boundingClientRect,impressedAt:i,intersectionRect:a.intersectionRect,invisibleReason:f,rootBounds:a.rootBounds,status:j,target:d,visible:g,visiblePercentage:e}}function h(a,b){return!a.visible?null:babelHelpers["extends"]({},a,{invisibleReason:b,status:"EXIT",visible:!1,visiblePercentage:0})}function d(a){return h(a,"PUSH_VIEW_HIDDEN")}function e(a){return h(a,"COMPONENT_UNMOUNTED")}function f(a){return h(a,"PAGE_VISIBILITY_HIDDEN")}g.initImpressionRecord=a;g.calcNextObservedRecord=b;g.calcExitRecordOnPushViewHidden=d;g.calcExitRecordOnUnmount=e;g.calcExitRecordOnViewportHidden=f}),98);
__d("calculateImpressionViewablePercentage",[],(function(a,b,c,d,e,f){"use strict";var g={height:0,width:0,x:0,y:0};function h(a,b){var c=Math.max(a.y,b.y),d=Math.min(a.y+a.height,b.y+b.height);if(c>=d)return g;var e=Math.max(a.x,b.x);a=Math.min(a.x+a.width,b.x+b.width);return e>=a?g:{height:d-c,width:a-e,x:e,y:c}}function a(a,b,c){b={height:b.height-c.top-c.bottom,width:b.width-c.left-c.right,x:b.x+c.left,y:b.y+c.top};if(a.height===0||a.width===0)return{boundingClientRect:a,rootBounds:b,visiblePercentage:1};if(b.height<=0||b.width<=0)return{boundingClientRect:a,rootBounds:b,visiblePercentage:0};c=h(b,a);return{boundingClientRect:a,intersectionRect:c,rootBounds:b,visiblePercentage:c.height*c.width/(a.height*a.width)}}f["default"]=a}),66);
__d("isImpressionTargetOccluded",["containsNode","getViewportDimensions"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,d){d===void 0&&(d={bottom:0,left:0,right:0,top:0});try{if(!a||!b||!document.elementFromPoint)return!1;var e=c("getViewportDimensions")();if(e.height===0||e.width===0)return!1;var f=b.x,g=b.y,h=b.width;b=b.height;h=Math.min(f+h,e.width-1);b=Math.min(g+b,e.height-1);e=[{x:f,y:g},{x:f,y:b},{x:h,y:g},{x:h,y:b},{x:(f+h)/2,y:(g+b)/2}];d.top!==0&&d.top>g&&d.top<b&&e.push({x:(f+h)/2,y:(d.top+b)/2});return e.every(function(b){b=document.elementFromPoint(b.x,b.y);b=!!b&&!c("containsNode")(b,a)&&!c("containsNode")(a,b);return b})}catch(a){return!1}}g["default"]=a}),98);
__d("calcNextImpressionSnapshotRecord",["Visibility","calculateImpressionViewablePercentage","getElementPosition","getStyleProperty","getViewportDimensions","gkx","isImpressionTargetOccluded"],(function(a,b,c,d,e,f,g){"use strict";var h={bottom:0,left:0,right:0,top:0};function i(a){if(a==null||document.documentElement==null)return null;a=a.parentElement;while(a!=null){if(a===document.documentElement||a.nodeType!==1)return null;if(c("getStyleProperty")(a,"position")==="absolute"&&c("getStyleProperty")(a,"overflow")!=="visible")return a;a=a.parentElement}return null}function a(a,b,d){d===void 0&&(d={});if(c("gkx")("23489")&&d.isCometHiddenSubtree)return{impressedAt:b.impressedAt,invisibleReason:"PUSH_VIEW_HIDDEN",status:b.visible?"EXIT":null,target:a,visible:!1,visiblePercentage:0};var e=c("getElementPosition")(a),f=babelHelpers["extends"]({x:0,y:0},c("getViewportDimensions")()),g=c("calculateImpressionViewablePercentage")(e,f,h),j=!1;if(g.visiblePercentage>0){var k=i(a);k!=null&&g.intersectionRect!=null&&(j=!0,g=c("calculateImpressionViewablePercentage")(g.intersectionRect,c("getElementPosition")(k),h))}k=d;k=k.viewportMargin;j=k&&!j?c("calculateImpressionViewablePercentage")(e,f,k):g;j.visiblePercentage;f=babelHelpers.objectWithoutPropertiesLoose(j,["visiblePercentage"]);g=g;var l=g.intersectionRect;g=g.visiblePercentage;var m=null,n=!1;g<=0?m="NOT_IN_VIEWPORT":l&&c("isImpressionTargetOccluded")(a,l,k||h)?m=j.visiblePercentage===0?"OCCLUDED_BY_MARGIN":d.isCometHiddenSubtree===!0?"PUSH_VIEW_HIDDEN":"OCCLUSION_DETECTED":c("Visibility").isHidden()?m="PAGE_VISIBILITY_HIDDEN":e.height===0||e.width===0?m="TARGET_SIZE_0":c("getStyleProperty")(a,"opacity")==="0"?m="TARGET_TRANSPARENT":c("getStyleProperty")(a,"visibility")==="hidden"?m="TARGET_HIDDEN":n=!0;g=n===!1?0:j.visiblePercentage;l=b.visible;k=b.impressedAt;d=null;l&&!n?d="EXIT":!l&&n?(d="ENTER",k=Date.now()):b.visiblePercentage!==g&&(d="UPDATE");return babelHelpers["extends"]({impressedAt:k,invisibleReason:m,status:d,target:a,visible:n,visiblePercentage:g},f)}g["default"]=a}),98);
__d("CentralImpressionScrollBasedTracker",["CentralImpressionRecord","CometThrottle","ImpressionLoggingTimerThreshold","Visibility","calcNextImpressionSnapshotRecord","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b,e,f){var g=this;e===void 0&&(e=null);f===void 0&&(f={});this.THROTTLE_TIMEOUT=c("ImpressionLoggingTimerThreshold").THROTTLE_TIMEOUT;this.takeSnapshot=c("CometThrottle")(function(){if(g.$3==null||g.$8===!0)return;var a=c("calcNextImpressionSnapshotRecord")(g.$3,g.$2,g.$7);g.$9(a)},this.THROTTLE_TIMEOUT);this.takeSnapshotWithDoubleRaf=c("CometThrottle")(function(){if(g.$3==null||g.$8===!0)return;var a=c("calcNextImpressionSnapshotRecord")(g.$3,g.$2,g.$7);g.$9(a)},this.THROTTLE_TIMEOUT);this.$5=e;this.$2=d("CentralImpressionRecord").initImpressionRecord(a);this.$1=b;this.$3=a;this.$7=f;this.$8=!1;c("setTimeout")(this.takeSnapshotWithDoubleRaf,0);document.addEventListener("scroll",this.takeSnapshotWithDoubleRaf,{capture:!0,passive:!0});window.addEventListener("resize",this.takeSnapshotWithDoubleRaf,{capture:!0,passive:!0});"MutationObserver"in window&&(this.$6=new MutationObserver(this.takeSnapshotWithDoubleRaf),this.$6.observe(document,{attributes:!0,characterData:!0,childList:!0,subtree:!0}));this.$4=[c("Visibility").addListener(c("Visibility").HIDDEN,this.takeSnapshot),c("Visibility").addListener(c("Visibility").VISIBLE,this.takeSnapshot)]}var b=a.prototype;b.getOptionalUniqueID=function(){return this.$5};b.peek=function(){return this.$2};b.setIsCometHiddenInSubtree=function(a){this.$7.isCometHiddenSubtree=a};b.remove=function(){document.removeEventListener("scroll",this.takeSnapshotWithDoubleRaf,{capture:!0,passive:!0}),window.removeEventListener("resize",this.takeSnapshotWithDoubleRaf,{capture:!0,passive:!0}),this.$6&&this.$6.disconnect(),this.$4.forEach(function(a){return a.remove()}),this.$8=!0};b.unmount=function(){var a=d("CentralImpressionRecord").calcExitRecordOnUnmount(this.$2);a!=null&&this.$9(a);this.remove()};b.update=function(a,b,c){c===void 0&&(c={}),this.$1=b,this.$3=a,this.$7=babelHelpers["extends"]({},this.$7,c)};b.$9=function(a){var b=this.$2;this.$2=a;a.status!=null&&this.$1(a,this,b,this.$7.isAdRefresh||!1)};return a}();g["default"]=a}),98);
__d("InstagramAdBrandProfileFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("4282");b=d("FalcoLoggerInternal").create("instagram_ad_brand_profile",a);e=b;g["default"]=e}),98);
__d("InstagramAdImpressionSecondChannelFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("2964");b=d("FalcoLoggerInternal").create("instagram_ad_impression_second_channel",a);e=b;g["default"]=e}),98);
__d("InstagramAdInfluencerProfileFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("6775");b=d("FalcoLoggerInternal").create("instagram_ad_influencer_profile",a);e=b;g["default"]=e}),98);
__d("InstagramAdSubImpressionSecondChannelFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("2965");b=d("FalcoLoggerInternal").create("instagram_ad_sub_impression_second_channel",a);e=b;g["default"]=e}),98);
__d("InstagramAdTimeSpentFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("3553");b=d("FalcoLoggerInternal").create("instagram_ad_time_spent",a);e=b;g["default"]=e}),98);
__d("InstagramAdViewabilityFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("3668");b=d("FalcoLoggerInternal").create("instagram_ad_viewability",a);e=b;g["default"]=e}),98);
__d("PolarisAdTimeSpentAction",["InstagramAdTimeSpentFalcoEvent","PolarisContainerModuleUtils","PolarisViewpointActionUtils"],(function(a,b,c,d,e,f,g){"use strict";var h=500,i=new Map();function j(a,b){var c=i.get(a);b.percentVisible>=.5&&c==null&&i.set(a,b.snapshotTime);c=c==null?0:b.snapshotTime-c;if(b.state==="exited"&&c>h){i["delete"](a);return c}return null}function a(a,b,e,f,g){return function(h){var i=j(e,h);if(i==null)return;c("InstagramAdTimeSpentFalcoEvent").log(function(){var c;return{ad_id:e,follow_status:g,m_pk:(c=d("PolarisViewpointActionUtils").getMPKForFeedMedia(a))!=null?c:"",pigeon_reserved_keyword_module:d("PolarisContainerModuleUtils").getContainerModule(b),pk:(c=a.owner)==null?void 0:c.id,source_of_action:d("PolarisContainerModuleUtils").getContainerModule(b),timespent:i,tracking_token:f}})}}g.makeAdTimeSpentAction=a}),98);
__d("PolarisAdViewabilityAction",["InstagramAdViewabilityFalcoEvent","PolarisContainerModuleUtils","PolarisViewpointActionUtils"],(function(a,b,c,d,e,f,g){"use strict";var h=new Map(),i=new Map(),j=new Map();function a(a,b,e,f,g){var h=function(g,h,i){var j=l(h).get(e+i);if(j==null)return;var k=(g-j)/1e3;c("InstagramAdViewabilityFalcoEvent").log(function(){return{ad_id:e,duration:k,m_pk:d("PolarisViewpointActionUtils").getMPKForFeedMedia(a),percent_visible:h.toString(),pigeon_reserved_keyword_module:d("PolarisContainerModuleUtils").getContainerModule(b),source_of_action:d("PolarisContainerModuleUtils").getContainerModule(b),tracking_token:f,visibility_unit:i}})},i=g;return function(a){k(a,0,e,h,"feed_unit",i),k(a,50,e,h,"feed_unit",i),k(a,100,e,h,"feed_unit",i),k(a,50,e,h,"viewport",i),k(a,100,e,h,"viewport",i)}}function k(a,b,c,d,e,f){c=c+e;var g=a.percentVisible*100;if(e==="viewport"){var h;h=((h=(h=a.visibleRect)==null?void 0:h.height)!=null?h:0)/f*100;g=Math.max(g,h)}f=l(b);if(g>=b&&!f.has(c))f.set(c,a.snapshotTime);else{h=g<b;b===0&&(h=a.state==="exited");h===!0&&f.has(c)&&(d(a.snapshotTime,b,e),f["delete"](c))}}function l(a){if(a===0)return h;else if(a===50)return i;return j}g.makeAdViewabilityAction=a}),98);
__d("PolarisPostCaptionTranslationPrompt_items.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisPostCaptionTranslationPrompt_items",selections:[{alias:null,args:null,kind:"ScalarField",name:"pk",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_translation",storageKey:null},{args:null,kind:"FragmentSpread",name:"PolarisPostCommentTranslationPrompt_comment"}],type:"XDTCommentDict",abstractKey:null};e.exports=a}),null);
__d("PolarisPostCommentTranslationPromptQuery_instagramRelayOperation",[],(function(a,b,c,d,e,f){e.exports="6869499193150569"}),null);
__d("PolarisPostCommentTranslationPromptQuery.graphql",["PolarisPostCommentTranslationPromptQuery_instagramRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"comment_id"},{defaultValue:!0,kind:"LocalArgument",name:"is_caption"}],c=[{alias:null,args:[{fields:[{kind:"Variable",name:"comment_id",variableName:"comment_id"},{kind:"Variable",name:"is_caption",variableName:"is_caption"}],kind:"ObjectValue",name:"data"}],concreteType:"XDTCommentTranslationResponse",kind:"LinkedField",name:"xdt_api__v1__comment_translate",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"translation",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"PolarisPostCommentTranslationPromptQuery",selections:c,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"PolarisPostCommentTranslationPromptQuery",selections:c},params:{id:b("PolarisPostCommentTranslationPromptQuery_instagramRelayOperation"),metadata:{is_distillery:!0},name:"PolarisPostCommentTranslationPromptQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("PolarisPostCommentTranslationPrompt_comment.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisPostCommentTranslationPrompt_comment",selections:[{alias:null,args:null,kind:"ScalarField",name:"pk",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_translation",storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"show_translation",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"loading_translation",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"translated_text",storageKey:null}]}],type:"XDTCommentDict",abstractKey:null};e.exports=a}),null);
__d("PolarisPostCommentTranslationPrompt.next.react",["fbt","CometPressable.react","CometRelay","FBLogger","IGDSText.react","PolarisPostCommentTranslationPromptQuery.graphql","PolarisPostCommentTranslationPrompt_comment.graphql","polarisLogAction","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=k||(k=d("react"));e=k;e.useCallback;var m=e.c,n=i!==void 0?i:i=b("PolarisPostCommentTranslationPromptQuery.graphql");function a(a){var e=m(35),f=a.comment$key,g=a.isCaption;a=a.textColor;var i=g===void 0?!1:g;g=a===void 0?"secondaryText":a;a=d("CometRelay").useFragment(j!==void 0?j:j=b("PolarisPostCommentTranslationPrompt_comment.graphql"),f);var k=a==null?void 0:a.pk;f=(a==null?void 0:a.has_translation)===!0;var o=a==null?void 0:a.translated_text,p=d("CometRelay").useRelayEnvironment(),q;e[0]!==p||e[1]!==k?(q=function(a){d("CometRelay").commitLocalUpdate(p,function(b){if(k==null)return;b=b.get("XDTCommentDict:"+k);b==null?void 0:b.setValue(a,"show_translation")})},e[0]=p,e[1]=k,e[2]=q):q=e[2];var r=q;e[3]!==p||e[4]!==k?(q=function(a){d("CometRelay").commitLocalUpdate(p,function(b){if(k==null)return;b=b.get("XDTCommentDict:"+k);b==null?void 0:b.setValue(a,"loading_translation")})},e[3]=p,e[4]=k,e[5]=q):q=e[5];var s=q;e[6]!==p||e[7]!==k?(q=function(a){d("CometRelay").commitLocalUpdate(p,function(b){if(k==null)return;b=b.get("XDTCommentDict:"+k);b==null?void 0:b.setValue(a,"translated_text")})},e[6]=p,e[7]=k,e[8]=q):q=e[8];var t=q;e[9]!==k||e[10]!==o||e[11]!==r||e[12]!==s||e[13]!==p||e[14]!==i||e[15]!==t?(q=function(){if(k==null)return;o!=null?r(!0):(s(!0),d("CometRelay").fetchQuery(p,n,{comment_id:k,is_caption:i}).toPromise().then(function(a){a=a==null?void 0:a.xdt_api__v1__comment_translate.translation;a!=null&&(t(a),r(!0));s(!1);c("polarisLogAction")("translateCommentSuccess")})["catch"](function(a){s(!1),c("FBLogger")("ig_web").catching(a),c("polarisLogAction")("translateCommentFailure")}))},e[9]=k,e[10]=o,e[11]=r,e[12]=s,e[13]=p,e[14]=i,e[15]=t,e[16]=q):q=e[16];q=q;if(f!==!0)return null;if((a==null?void 0:a.loading_translation)===!0){e[17]===Symbol["for"]("react.memo_cache_sentinel")?(f=h._("__JHASH__ptT8MaSFAMY__JHASH__"),e[17]=f):f=e[17];e[18]!==g?(f=l.jsx(c("IGDSText.react").Body2Emphasized,{color:g,children:f}),e[18]=g,e[19]=f):f=e[19];return f}if((a==null?void 0:a.show_translation)===!0){e[20]!==k||e[21]!==r?(f=function(){k!=null&&r(!1)},e[20]=k,e[21]=r,e[22]=f):f=e[22];e[23]===Symbol["for"]("react.memo_cache_sentinel")?(a=h._("__JHASH__S6WOgu9Fr2q__JHASH__"),e[23]=a):a=e[23];e[24]!==g?(a=l.jsx(c("IGDSText.react").Body2Emphasized,{color:g,children:a}),e[24]=g,e[25]=a):a=e[25];var u;e[26]!==f||e[27]!==a?(u=l.jsx(c("CometPressable.react"),{onPress:f,overlayDisabled:!0,children:a}),e[26]=f,e[27]=a,e[28]=u):u=e[28];return u}e[29]===Symbol["for"]("react.memo_cache_sentinel")?(f=h._("__JHASH__Q7Q4mAm1c2E__JHASH__"),e[29]=f):f=e[29];e[30]!==g?(a=l.jsx(c("IGDSText.react").Body2Emphasized,{color:g,children:f}),e[30]=g,e[31]=a):a=e[31];e[32]!==q||e[33]!==a?(u=l.jsx(c("CometPressable.react"),{onPress:q,overlayDisabled:!0,children:a}),e[32]=q,e[33]=a,e[34]=u):u=e[34];return u}g["default"]=a}),226);
__d("PolarisPostCaptionTranslationPrompt.next.react",["CometRelay","PolarisPostCaptionTranslationPrompt_items.graphql","PolarisPostCommentTranslationPrompt.next.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||(i=d("react"))).c,k=i;function a(a){var e=j(3),f=a.isOverMedia;a=a.queryReference;f=f===void 0?!1:f;a=d("CometRelay").useFragment(h!==void 0?h:h=b("PolarisPostCaptionTranslationPrompt_items.graphql"),a);var g=a.has_translation,i=a.pk;if(g!==!0||i==null)return null;g=f?"textOnMedia":"primaryText";e[0]!==a||e[1]!==g?(i=k.jsx(c("PolarisPostCommentTranslationPrompt.next.react"),{comment$key:a,isCaption:!0,textColor:g}),e[0]=a,e[1]=g,e[2]=i):i=e[2];return i}g["default"]=a}),98);
__d("PolarisSponsoredBlockedElStore",[],(function(a,b,c,d,e,f){"use strict";var g=new Set();function a(a){g.add(a)}function b(a){return g.has(a)}function c(a){return g["delete"](a)}function d(){return g.size>0}f.m=a;f.c=b;f.d=c;f.b=d}),66);
__d("PolarisSponsoredElDisplayMonitor",["clearTimeout","cometGHLContentDisplayCheck","setTimeoutCometLoggingPri"],(function(a,b,c,d,e,f,g){"use strict";var h=new Set(),i=1e3,j=null;a=function(a){h.has(a)||h.add(a);j===null&&k();return{dispose:function(){h["delete"](a),h.size===0&&(c("clearTimeout")(j),j=null)}}};var k=function a(){h.forEach(function(a,b){a=b.onLogBlockCallback;var d=b.startTime;b=b.targetRef;b=b.current;if(b==null)return;b=c("cometGHLContentDisplayCheck")(b);if(!b){b=Date.now()-d;a(b)}}),j=c("setTimeoutCometLoggingPri")(a,i)};g.m=a}),98);
__d("PolarisStoryStrings",["fbt"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a){return h._("__JHASH__DOmAejqRCMN__JHASH__",[h._param("username",a)])}function b(a){return h._("__JHASH__vbO6Q6f3IUT__JHASH__",[h._param("username",a)])}function c(a){return h._("__JHASH__pDdRZuliBl6__JHASH__",[h._param("username",a)])}g.directReplyPlaceholder=a;g.unseenStoryTrayItemAriaLabel=b;g.seenStoryTrayItemAriaLabel=c}),226);
__d("polarisFeedSelectors",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a.feed.badgeCount}function g(a){return a.feed.content[a.feed.currentFeed]}function h(a,b){for(var c=b.length-1;c>=0;c--){var d=b[c].postId;d=a.posts.byId.get((d=d)!=null?d:"");if(d!=null&&d.isSponsored===!0)return c}return-1}function b(a,b){var c=g(a);c=c.items;if(c==null||b==null)return null;c=c.slice(0,b);a=h(a,c.toArray());if(a===-1)return-1;return b<=a?null:b-a-1}f.getFeedBadgeCount=a;f.getFeedContent=g;f.getGapToLastAd=b}),66);
__d("usePolarisSponsoredElTracker",["IgWebSwankFalcoEvent","PolarisSponsoredBlockedElStore","PolarisSponsoredElDisplayMonitor","react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");b.useCallback;var i=b.useEffect,j=b.useRef,k=b.c;function a(a){var b=k(13),e=a.mediaType,f=a.position,g=a.postId,h=a.trackingToken,l=j(null),m=j(!1);b[0]!==e||b[1]!==f||b[2]!==h?(a=function(a){if(m.current)return;m.current=!0;c("IgWebSwankFalcoEvent").log(function(){return{en:String(0),hd:String(a),mt:String(e),sli:String(f),tt:h}});var b=l.current;b!==null&&d("PolarisSponsoredBlockedElStore").m(b)},b[0]=e,b[1]=f,b[2]=h,b[3]=a):a=b[3];var n=a;b[4]===Symbol["for"]("react.memo_cache_sentinel")?(a=function(){var a=l.current;return function(){a&&d("PolarisSponsoredBlockedElStore").d(a)}},b[4]=a):a=b[4];var o;b[5]!==f||b[6]!==g?(o=[l,f,g],b[5]=f,b[6]=g,b[7]=o):o=b[7];i(a,o);b[8]!==n?(a=function(){var a;a=null;var b=Date.now();if(l===null)return;if(m.current===!0)return;a=d("PolarisSponsoredElDisplayMonitor").m({onLogBlockCallback:n,startTime:b,targetRef:l});return function(){a&&a.dispose()}},b[8]=n,b[9]=a):a=b[9];b[10]!==g||b[11]!==n?(o=[l,g,m,n],b[10]=g,b[11]=n,b[12]=o):o=b[12];i(a,o);return l}g["default"]=a}),98);
__d("usePolarisSponsoredPostHasImageAsCta",["$InternalEnum","PolarisUA","polarisAdsSelectors.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).c,j=b("$InternalEnum").Mirrored(["Image","Video","Mixed","NotCarousel"]);function k(a){if(a==null||a.length<=0)return j.NotCarousel;if(a.every(function(a){return a.isVideo}))return j.Video;return a.every(function(a){return!a.isVideo})?j.Image:j.Mixed}function l(a,b){var c,e=a.id;a=a.isSponsored;e=d("polarisAdsSelectors.react").useFeedAdInfo(e,m);var f=e!=null;if(b==null)return!1;c=e==null?void 0:(c=e.ctaItems)==null?void 0:(c=c.get(b))==null?void 0:c.ctaLinkText;b=e==null?void 0:(e=e.ctaItems)==null?void 0:(e=e.get(b))==null?void 0:e.ctaLinkUrl;return a===!0&&f&&c!=null&&b!=null}function m(a){return a}function a(a){var b=i(6),c=a.id,e=a.sidecarChildren,f=a.usertags;a=l(a,c);b[0]!==e?(c=k(e),b[0]=e,b[1]=c):c=b[1];e=c;b[2]!==f||b[3]!==a||b[4]!==e?(c=(f==null||f.length===0)&&a&&e===j.NotCarousel&&d("PolarisUA").isDesktop(),b[2]=f,b[3]=a,b[4]=e,b[5]=c):c=b[5];return c}g.getCarouselType=k;g.usePolarisIsFeedAdWithValidCta=l;g.usePolarisSponsoredPostHasImageAsCta=a}),98);
__d("usePolarisSponsoredPostHasPersistentCta",["PolarisPostUtils","usePolarisSponsoredPostHasImageAsCta"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.isSidecar,c=a.src,e=a.thumbnailSrc;e=(e=e)!=null?e:c;b=b===!0?(c=d("PolarisPostUtils").getCurrentSidecarItemFromPost(a,0))==null?void 0:c.id:a.id;c=d("usePolarisSponsoredPostHasImageAsCta").usePolarisIsFeedAdWithValidCta(a,b);return b!=null&&c&&e!=null}g.usePolarisSponsoredPostHasPersistentCta=a}),98);
__d("useScrollBasedImpressionTracker",["BaseViewportMarginsContext","CentralImpressionScrollBasedTracker","HiddenSubtreePassiveContext","react"],(function(a,b,c,d,e,f,g){"use strict";var h;h||(h=d("react"));b=h;var i=b.useCallback,j=b.useContext,k=b.useEffect,l=b.useRef;function a(a,b){var d=l(null),e=l(null),f=j(c("BaseViewportMarginsContext")),g=l(null),h=j(c("HiddenSubtreePassiveContext")),m=i(function(b){if(d.current==null)return;if(e.current==null||b!=null&&e.current.getOptionalUniqueID()!==b){var i=!1;e.current!=null&&(e.current.unmount(),e.current=null,i=!0);e.current=new(c("CentralImpressionScrollBasedTracker"))(d.current,a,b,{isAdRefresh:i,isCometHiddenSubtree:h.getCurrentState().hiddenOrBackgrounded_FIXME,viewportMargin:f});g.current!=null&&(g.current.remove(),g.current=null);g.current=h.subscribeToChanges(function(a){e.current!=null&&e.current.setIsCometHiddenInSubtree(a.hiddenOrBackgrounded_FIXME)})}else e.current.update(d.current,a,{isCometHiddenSubtree:h.getCurrentState().hiddenOrBackgrounded_FIXME,viewportMargin:f})},[h,a,f]),n=i(function(a){d.current!==a&&a!=null&&(d.current=a,m(b))},[m,b]);k(function(){return function(){e.current!=null&&(e.current.unmount(),e.current=null),g.current!=null&&(g.current.remove(),g.current=null)}},[]);k(function(){m(b)},[m,b]);return n}g["default"]=a}),98);
__d("usePolarisSponsoredPostImpressionSecondChannelLogger",["InstagramAdImpressionSecondChannelFalcoEvent","InstagramAdSubImpressionSecondChannelFalcoEvent","InstagramODS","PolarisContainerModuleUtils","PolarisInteractionsLogger","PolarisViewpointActionUtils","cometGHLContentDisplayCheck","cr:6627","qex","react","usePolarisAnalyticsContext","usePolarisViewer","useScrollBasedImpressionTracker"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).c,j=c("qex")._("1229"),k=6e4,l=2e3,m=new Map(),n=new Set();function a(a,e){var f=i(6),g=c("usePolarisAnalyticsContext")(),h=c("usePolarisViewer")(),o=a==null?void 0:a.ad_id,p=a==null?void 0:a.tracking_token;f[0]!==o||f[1]!==p||f[2]!==g||f[3]!==h||f[4]!==e?(a=function(a){if(o!=null&&p!=null&&g==="feedPage"&&(h==null?void 0:h.id)!=null){if(a.status!=="ENTER")return;var f={ad_id:o,inventory_source:d("PolarisContainerModuleUtils").getContainerModule(g),m_pk:d("PolarisViewpointActionUtils").getMPKForFeedMedia(e),m_t:d("PolarisInteractionsLogger").getMediaTypeFromPost(e).toString(),pigeon_reserved_keyword_module:d("PolarisContainerModuleUtils").getContainerModule(g),pk:h==null?void 0:h.id,tracking_token:p},i=m.get(o),q=Date.now(),r=i!=null&&q-i>=k;if(n.has(o))return;n.add(o);window.setTimeout(function(){var d=c("cometGHLContentDisplayCheck")(a.target);i==null?d?(c("InstagramODS").incr("web.ads.feed.impression.second_channel"),c("InstagramAdImpressionSecondChannelFalcoEvent").logImmediately(function(){return f}),j===!0&&b("cr:6627")!=null&&b("cr:6627").log(function(){return{client_token:p,event:"impression_second_channel_client"}}),m.set(o,q)):c("InstagramODS").incr("web.ads.feed.impression.second_channel.hidden"):r&&(d?(c("InstagramODS").incr("web.ads.feed.sub_impression.second_channel"),c("InstagramAdSubImpressionSecondChannelFalcoEvent").logImmediately(function(){return f}),j===!0&&b("cr:6627")!=null&&b("cr:6627").log(function(){return{client_token:p,event:"sub_impression_second_channel_client"}}),m.set(o,q)):c("InstagramODS").incr("web.ads.feed.sub_impression.second_channel.hidden"));n["delete"](o)},l)}},f[0]=o,f[1]=p,f[2]=g,f[3]=h,f[4]=e,f[5]=a):a=f[5];return c("useScrollBasedImpressionTracker")(a)}g["default"]=a}),98);
__d("usePolarisSponsoredPostImpressionRefs",["PolarisReactRedux.react","polarisAdsSelectors.react","polarisFeedSelectors","polarisPostSelectors","qex","react","useEmptyFunction","usePolarisSponsoredElTracker","usePolarisSponsoredPostImpressionSecondChannelLogger"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).c;b=c("qex")._("1002");var j=b===!0?c("usePolarisSponsoredPostImpressionSecondChannelLogger"):c("useEmptyFunction");function a(a){var b=i(9),e;b[0]!==a?(e=function(b){return d("polarisPostSelectors").getPostById(b,a)},b[0]=a,b[1]=e):e=b[1];e=d("PolarisReactRedux.react").useSelector(e);var f=d("PolarisReactRedux.react").useSelector(l),g=d("polarisAdsSelectors.react").useFeedAdInfo(e==null?void 0:e.id,k);e=j(g,e);var h=[];e!=null&&h.push(e);if(b[2]!==f.items||b[3]!==a){e=(e=(e=f.items)==null?void 0:e.findIndex(function(b){b=b.postId;return b===a}))!=null?e:-2;b[2]=f.items;b[3]=a;b[4]=e}else e=b[4];g=(f=g==null?void 0:g.tracking_token)!=null?f:"";b[5]!==e||b[6]!==a||b[7]!==g?(f={mediaType:0,position:e,postId:a,trackingToken:g},b[5]=e,b[6]=a,b[7]=g,b[8]=f):f=b[8];e=c("usePolarisSponsoredElTracker")(f);h.push(e);return h}function k(a){return a}function l(a){return d("polarisFeedSelectors").getFeedContent(a)}g["default"]=a}),98);
__d("usePolarisSponsoredPostProfileClickLogger",["InstagramAdBrandProfileFalcoEvent","InstagramODS","InstagramWebAdEventsAuditFalcoEvent","PolarisContainerModuleUtils","PolarisNavChain","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useCallback;function a(a){var b=a.adId,e=a.adTrackingToken,f=a.analyticsContext,g=a.followStatus,h=a.mpk,j=a.postMediaType,k=a.postOwnerId,l=a.socialContext;return i(function(){var a,i=d("PolarisContainerModuleUtils").getContainerModule(f);if(b==null||e==null)return;var m={a_pk:k,ad_id:b,follow_status:g,m_pk:h,m_t:j,nav_chain:(a=c("PolarisNavChain").getInstance())==null?void 0:a.getNavChainForSend(),pigeon_reserved_keyword_module:i,source_of_action:i,tracking_token:e};c("InstagramWebAdEventsAuditFalcoEvent").log(function(){return{client_token:e,event:"profile_click",social_context_type:l==null?void 0:l.social_context_type}});c("InstagramODS").incr("web.ads.feed.profile.click");c("InstagramAdBrandProfileFalcoEvent").log(function(){return m})},[f,b,e,g,h,j,k,l==null?void 0:l.social_context_type])}g["default"]=a}),98);
__d("usePolarisSponsoredPostRenderedLogging",["InstagramODS","PolarisReactRedux.react","PolarisUA","memoizeStringOnly","polarisAdsSelectors.react","polarisPostSelectors","react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.c,k=c("memoizeStringOnly")(function(a){return new Map()});function a(a,b){var e=j(9),f;e[0]!==a?(f=function(b){return d("polarisPostSelectors").getPostById(b,a)},e[0]=a,e[1]=f):f=e[1];f=d("PolarisReactRedux.react").useSelector(f);var g=d("polarisAdsSelectors.react").useFeedAdInfo(f==null?void 0:f.id,l),h=g==null?void 0:g.ad_id,m;e[2]!==b||e[3]!==h?(g=function(){var a=k(b),d=h!=null&&a.get(h);if(d===!0||h==null)return;c("InstagramODS").incr("web.ads.feed.rendered");a.set(h,!0)},m=[h,b],e[2]=b,e[3]=h,e[4]=g,e[5]=m):(g=e[4],m=e[5]);i(g,m);var n=f.isVideo===!0;e[6]!==n?(g=function(){n&&d("PolarisUA").isMobile()&&c("InstagramODS").incr("web.ads.msite.feed.video_ads.rendered")},m=[n],e[6]=n,e[7]=g,e[8]=m):(g=e[7],m=e[8]);i(g,m)}function l(a){return a}g["default"]=a}),98);
__d("usePolarisSponsoredPostSecondaryProfileClickLogger",["InstagramAdInfluencerProfileFalcoEvent","InstagramODS","InstagramWebAdEventsAuditFalcoEvent","PolarisContainerModuleUtils","PolarisNavChain","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useCallback;function a(a){var b=a.adId,e=a.adTrackingToken,f=a.analyticsContext,g=a.followStatus,h=a.mpk,j=a.postMediaType,k=a.postOwnerId,l=a.socialContext;return i(function(){var a,i=d("PolarisContainerModuleUtils").getContainerModule(f);if(b==null||e==null)return;var m={a_pk:k,ad_id:b,follow_status:g,m_pk:h,m_t:j,nav_chain:(a=c("PolarisNavChain").getInstance())==null?void 0:a.getNavChainForSend(),pigeon_reserved_keyword_module:i,source_of_action:i,tracking_token:e};c("InstagramWebAdEventsAuditFalcoEvent").log(function(){return{client_token:e,event:"profile_click",social_context_type:l==null?void 0:l.social_context_type}});c("InstagramODS").incr("web.ads.feed.profile.click");c("InstagramAdInfluencerProfileFalcoEvent").log(function(){return m})},[f,b,e,k,g,h,j,l==null?void 0:l.social_context_type])}g["default"]=a}),98);
__d("usePolarisSponsoredPostViewpointActions",["PolarisAdImpressionAction","PolarisAdTimeSpentAction","PolarisAdViewabilityAction","PolarisViewpointActionUtils","PolarisVpvdImpressionAction","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).c;function a(a,b,c,e,f,g,h,j,k,l,m,n,o,p,q,r,s,t){var u=i(38),v,w;if(u[0]!==c||u[1]!==e||u[2]!==f||u[3]!==h||u[4]!==k||u[5]!==m||u[6]!==n||u[7]!==o||u[8]!==p||u[9]!==q||u[10]!==r||u[11]!==s||u[12]!==l||u[13]!==t||u[14]!==a||u[15]!==b||u[16]!==j||u[17]!==g){w=Symbol["for"]("react.early_return_sentinel");bb0:{v=[];if(c==null||e==null||f==null||h==null){var x;u[20]===Symbol["for"]("react.memo_cache_sentinel")?(x=[],u[20]=x):x=u[20];w=x;break bb0}x=babelHelpers["extends"]({ad_id:c,brs_threshold:m,organic_brs_severity_after:n,organic_brs_severity_before:o,organic_media_id_after:p,organic_media_id_before:q,pk:f,tracking_token:e,view_state_item_type_after:r,view_state_item_type_before:s},k!=null?{client_position:k,m_ix:k}:{});k!=null&&(x.m_ix=k,x.client_position=k);l!=null&&(x.gap_to_last_ad=l);t!=null&&(x.social_context=t);v.push(d("PolarisAdImpressionAction").makePostAdImpressionAction(a,b,x,j));u[21]!==a||u[22]!==b||u[23]!==c||u[24]!==e?(x=d("PolarisVpvdImpressionAction").makePostVpvdImpressionAction(a,b,c,e),u[21]=a,u[22]=b,u[23]=c,u[24]=e,u[25]=x):x=u[25];v.push(x);u[26]!==g||u[27]!==a||u[28]!==b||u[29]!==c||u[30]!==e?(x=d("PolarisAdTimeSpentAction").makeAdTimeSpentAction(a,b,c,e,d("PolarisViewpointActionUtils").getFollowStatus(g)),u[26]=g,u[27]=a,u[28]=b,u[29]=c,u[30]=e,u[31]=x):x=u[31];v.push(x);u[32]!==a||u[33]!==b||u[34]!==c||u[35]!==e||u[36]!==h?(x=d("PolarisAdViewabilityAction").makeAdViewabilityAction(a,b,c,e,h),u[32]=a,u[33]=b,u[34]=c,u[35]=e,u[36]=h,u[37]=x):x=u[37];v.push(x)}u[0]=c;u[1]=e;u[2]=f;u[3]=h;u[4]=k;u[5]=m;u[6]=n;u[7]=o;u[8]=p;u[9]=q;u[10]=r;u[11]=s;u[12]=l;u[13]=t;u[14]=a;u[15]=b;u[16]=j;u[17]=g;u[18]=v;u[19]=w}else v=u[18],w=u[19];return w!==Symbol["for"]("react.early_return_sentinel")?w:v}g["default"]=a}),98);